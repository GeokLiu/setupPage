{"ast":null,"code":"import axios from 'axios';\nconst API_URL = \"http://localhost:8000\";\n\n// ... existing OCR functions ...\n\nexport const signupUser = async formData => {\n  return await axios.post(`${API_URL}/signup-finalize`, formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n};\n\n// [NEW] Get Random Question\nexport const initiateLogin = async icNumber => {\n  const formData = new FormData();\n  formData.append(\"icNumber\", icNumber);\n  try {\n    const res = await axios.post(`${API_URL}/login/initiate`, formData);\n    return res.data;\n  } catch (err) {\n    var _err$response, _err$response$data;\n    return {\n      success: false,\n      message: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || \"Error\"\n    };\n  }\n};\n\n// [NEW] Verify Answer\nexport const verifyLogin = async (icNumber, question, answer) => {\n  const formData = new FormData();\n  formData.append(\"icNumber\", icNumber);\n  formData.append(\"question\", question);\n  formData.append(\"answer\", answer);\n  try {\n    const res = await axios.post(`${API_URL}/login/verify`, formData);\n    return res.data;\n  } catch (err) {\n    return {\n      success: false,\n      message: \"Verification failed\"\n    };\n  }\n};","map":{"version":3,"names":["axios","API_URL","signupUser","formData","post","headers","initiateLogin","icNumber","FormData","append","res","data","err","_err$response","_err$response$data","success","message","response","detail","verifyLogin","question","answer"],"sources":["C:/Users/nggeo/fullstack-jamaibase-app/frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = \"http://localhost:8000\";\r\n\r\n// ... existing OCR functions ...\r\n\r\nexport const signupUser = async (formData: FormData) => {\r\n    return await axios.post(`${API_URL}/signup-finalize`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n    });\r\n};\r\n\r\n// [NEW] Get Random Question\r\nexport const initiateLogin = async (icNumber: string) => {\r\n    const formData = new FormData();\r\n    formData.append(\"icNumber\", icNumber);\r\n    try {\r\n        const res = await axios.post(`${API_URL}/login/initiate`, formData);\r\n        return res.data;\r\n    } catch (err: any) {\r\n        return { success: false, message: err.response?.data?.detail || \"Error\" };\r\n    }\r\n};\r\n\r\n// [NEW] Verify Answer\r\nexport const verifyLogin = async (icNumber: string, question: string, answer: string) => {\r\n    const formData = new FormData();\r\n    formData.append(\"icNumber\", icNumber);\r\n    formData.append(\"question\", question);\r\n    formData.append(\"answer\", answer);\r\n\r\n    try {\r\n        const res = await axios.post(`${API_URL}/login/verify`, formData);\r\n        return res.data;\r\n    } catch (err: any) {\r\n        return { success: false, message: \"Verification failed\" };\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;;AAEvC;;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAOC,QAAkB,IAAK;EACpD,OAAO,MAAMH,KAAK,CAACI,IAAI,CAAC,GAAGH,OAAO,kBAAkB,EAAEE,QAAQ,EAAE;IAC5DE,OAAO,EAAE;MAAE,cAAc,EAAE;IAAsB;EACrD,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAMC,aAAa,GAAG,MAAOC,QAAgB,IAAK;EACrD,MAAMJ,QAAQ,GAAG,IAAIK,QAAQ,CAAC,CAAC;EAC/BL,QAAQ,CAACM,MAAM,CAAC,UAAU,EAAEF,QAAQ,CAAC;EACrC,IAAI;IACA,MAAMG,GAAG,GAAG,MAAMV,KAAK,CAACI,IAAI,CAAC,GAAGH,OAAO,iBAAiB,EAAEE,QAAQ,CAAC;IACnE,OAAOO,GAAG,CAACC,IAAI;EACnB,CAAC,CAAC,OAAOC,GAAQ,EAAE;IAAA,IAAAC,aAAA,EAAAC,kBAAA;IACf,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE,EAAAH,aAAA,GAAAD,GAAG,CAACK,QAAQ,cAAAJ,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcF,IAAI,cAAAG,kBAAA,uBAAlBA,kBAAA,CAAoBI,MAAM,KAAI;IAAQ,CAAC;EAC7E;AACJ,CAAC;;AAED;AACA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOZ,QAAgB,EAAEa,QAAgB,EAAEC,MAAc,KAAK;EACrF,MAAMlB,QAAQ,GAAG,IAAIK,QAAQ,CAAC,CAAC;EAC/BL,QAAQ,CAACM,MAAM,CAAC,UAAU,EAAEF,QAAQ,CAAC;EACrCJ,QAAQ,CAACM,MAAM,CAAC,UAAU,EAAEW,QAAQ,CAAC;EACrCjB,QAAQ,CAACM,MAAM,CAAC,QAAQ,EAAEY,MAAM,CAAC;EAEjC,IAAI;IACA,MAAMX,GAAG,GAAG,MAAMV,KAAK,CAACI,IAAI,CAAC,GAAGH,OAAO,eAAe,EAAEE,QAAQ,CAAC;IACjE,OAAOO,GAAG,CAACC,IAAI;EACnB,CAAC,CAAC,OAAOC,GAAQ,EAAE;IACf,OAAO;MAAEG,OAAO,EAAE,KAAK;MAAEC,OAAO,EAAE;IAAsB,CAAC;EAC7D;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}